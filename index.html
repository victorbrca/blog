<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Victor&#39;s Blog </title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Victor&#39;s Blog ">
<meta property="og:site_name" content="Victor&#39;s Blog"/>
<meta property="og:url" content="https://blog.victormendonca.com/" />
<meta property="og:locale" content="en">


<meta property="og:type" content="website" />



<link href="https://blog.victormendonca.com/index.xml" rel="alternate" type="application/rss+xml" title="Victor&#39;s Blog" />

<link rel="canonical" href="https://blog.victormendonca.com/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.victormendonca.com/touch-icon-144-precomposed.png">
<link rel="icon" href="https://blog.victormendonca.com/favicon.png">
<meta name="generator" content="Hugo 0.48" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="https://blog.victormendonca.com/css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="https://blog.victormendonca.com/css/font-awesome.min.css">
<link rel="stylesheet" href="https://blog.victormendonca.com/css/style.css">


<link rel="stylesheet" href="https://blog.victormendonca.com/css/style_custom.css">



  <link rel="stylesheet" href="https://blog.victormendonca.com/css/highlight/github.css">



  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1P1YY6BDG2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-1P1YY6BDG2');
    </script>
  

</head>
<body class="map[name:default]" data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
        <a class="navbar-brand" href="https://blog.victormendonca.com/">
          Victor&#39;s Blog
          
          
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            <li class="">

              <a href="https://blog.victormendonca.com/" >
                
                Home
              </a>
            </li>
            
            <li class="">

              <a href="https://blog.victormendonca.com/about/" >
                
                About
              </a>
            </li>
            
            <li class="">

              <a href="https://geekit.ca/" >
                
                Professional
              </a>
            </li>
            
            <li class="">

              <a href="https://manhattan.victormendonca.com/" >
                
                Manhattan Blog
              </a>
            </li>
            
            
            
          </ul>
        </div>
        
      </div>
    </nav>
  </header>


  <div class="container">
    
    <div class="row">
      <div class="col-sm-9">
        
        
          <div>
  <h2><a href="https://blog.victormendonca.com/2024/09/09/logrotate-simplifying-log-management/">Logrotate: Simplifying Log Management</a>
</h2>

  <div class="margin-10">
    <small>
  <i class="fa fa-calendar"></i>
  <time datetime="2024-09-09">9 Sep, 2024</time>
</small>

    
  <i class="fa fa-tags"></i>
  
  <a href="https://blog.victormendonca.com/tags/linux" class="label label-primary">Linux</a>
  
  <a href="https://blog.victormendonca.com/tags/administration" class="label label-primary">Administration</a>
  
  <a href="https://blog.victormendonca.com/tags/ansible" class="label label-primary">Ansible</a>
  


  </div>
</div>

          <div class="content">
  

<p><code>logrotate</code> is a system utility designed to manage log files, ensuring that logs don&rsquo;t consume excessive disk space by rotating, compressing, and removing old logs according to user-defined rules. This post will help you get familiar with <code>logrotate</code> configuration and usage.</p>

<p>By configuring and running <code>logrotate</code> effectively, you can automate log management, saving space, and ensuring your logs stay manageable over time.</p>

<h2 id="main-config">Main Config</h2>

<p>The primary configuration file for <code>logrotate</code> is located at <code>/etc/logrotate.conf</code>. It sets default values and contains the directory for additional configuration files (typically <code>/etc/logrotate.d</code>):</p>

<pre><code class="language-bash"># see &quot;man logrotate&quot; for details
# rotate log files weekly
weekly

# keep 4 weeks worth of backlogs
rotate 4

# create new (empty) log files after rotating old ones
create

# use date as a suffix of the rotated file
dateext

# uncomment this if you want your log files compressed
#compress

# RPM packages drop log rotation information into this directory
include /etc/logrotate.d

# no packages own wtmp and btmp -- we'll rotate them here
/var/log/wtmp {
    monthly
    create 0664 root utmp
    minsize 1M
    rotate 1
}

/var/log/btmp {
    missingok
    monthly
    create 0600 root utmp
    rotate 1
}
</code></pre>

<h2 id="configuration-files">Configuration Files</h2>

<p>The configuration file for each application or log location usually resides under <code>/etc/logrotate.d/</code> and can contain various options to control how logs are handled.</p>

<h3 id="common-options">Common Options</h3>

<ul>
<li><code>hourly</code> – Rotate logs every hour (<em>requires cron to run logrotate hourly</em>).</li>
<li><code>daily</code> – Rotate logs daily.</li>
<li><code>weekly [weekday]</code> – Rotate logs once per week.</li>
<li><code>monthly</code> – Rotate logs the first time <code>logrotate</code> is run in a month.</li>
<li><code>yearly</code> – Rotate logs once a year.</li>
<li><code>rotate [count]</code> – Defines how many rotated logs to keep. If set to 0, logs are deleted instead of being rotated.</li>
<li><code>minsize [size]</code> – Rotate logs when they exceed a specific size, while also respecting the time interval (daily, weekly, etc.).</li>
<li><code>size [size]</code> – Rotate only when log size exceeds the defined limit.</li>
<li><code>maxage [days]</code> – Remove rotated logs after a specified number of days.</li>
<li><code>missingok</code> – Continue without error if the log file is missing.</li>
<li><code>notifempty</code> – Skip rotation if the log file is empty.</li>
<li><code>create [mode] [owner] [group]</code> – Create a new log file with specified permissions, owner, and group.</li>
<li><code>compress</code> – Compress rotated logs.</li>
<li><code>delaycompress</code> – Delay compression until the next rotation cycle.</li>
<li><code>copytruncate</code> – Truncate the log after copying it to the rotated file.</li>
<li><code>sharedscripts</code> – Ensures that post-rotation scripts are executed only once.</li>
<li><code>postrotate/endscript</code> – Define commands to be executed after log rotation:</li>
</ul>

<pre><code class="language-bash">postrotate
  /opt/life/tools/stop-approve.sh &amp;&amp; /opt/life/tools/start-approve.sh
endscript
</code></pre>

<h3 id="examples">Examples</h3>

<h4 id="example-1-deleting-old-nmon-files">Example 1: Deleting Old NMON Files</h4>

<p>This example deletes NMON output files that are older than 3 months or larger than 5 MB:</p>

<pre><code class="language-bash"># Logrotate config for nmon
/var/log/nmon/*.nmon {
  rotate 0
  maxage 90
  size 5M
}
</code></pre>

<h4 id="example-2-compressing-lms-logs">Example 2: Compressing LMS Logs</h4>

<p>In this case, <code>logrotate</code> keeps 10 compressed versions of logs, rotating them when logs are older than 12 months or larger than 5 MB:</p>

<pre><code class="language-bash"># Logrotate config for LMS
/home/my_admin/cmd/log/*.log {
  rotate 10
  maxage 360
  size 5M
  compress
}
</code></pre>

<h3 id="creating-a-new-configuration-file">Creating a New Configuration File</h3>

<p>To create a new log rotation rule, drop a configuration file into the <code>/etc/logrotate.d/</code> directory. Ensure the scheduler for <code>logrotate</code> (either cron or systemd) is set up correctly.</p>

<blockquote>
<p><strong>Tip:</strong> Double-check your scheduler settings to ensure smooth log rotation.</p>
</blockquote>

<h2 id="testing-and-running-logrotate">Testing and Running Logrotate</h2>

<h3 id="testing">Testing</h3>

<h4 id="dry-run">Dry-Run</h4>

<p>Before applying your configuration, you can test it with a dry-run using the <code>-d</code> option:</p>

<pre><code class="language-bash">logrotate -d [my_config_file].conf
</code></pre>

<h4 id="verbosity">Verbosity</h4>

<p>To view detailed steps, run <code>logrotate</code> with the <code>-v</code> option (useful with <code>-d</code> for dry-run testing):</p>

<pre><code class="language-bash">logrotate -vd [my_config_file].conf
</code></pre>

<h3 id="scheduling-logrotate">Scheduling Logrotate</h3>

<p><code>logrotate</code> can be scheduled using either cron or systemd. Here&rsquo;s a quick overview of both methods:</p>

<h4 id="cron">Cron</h4>

<p>When using cron, the <code>logrotate</code> job is typically defined in <code>/etc/cron.daily/logrotate</code>:</p>

<pre><code class="language-bash">#!/bin/sh

/usr/sbin/logrotate -s /var/lib/logrotate/logrotate.status /etc/logrotate.conf
EXITVALUE=$?
if [ $EXITVALUE != 0 ]; then
    /usr/bin/logger -t logrotate &quot;ALERT exited abnormally with [$EXITVALUE]&quot;
fi
exit 0
</code></pre>

<h4 id="systemd">Systemd</h4>

<p>Systemd can also manage logrotate via <code>logrotate.timer</code> and <code>logrotate.service</code>.</p>

<p><em>logrotate.timer</em>:</p>

<pre><code class="language-systemd">[Unit]
Description=Daily rotation of log files

[Timer]
OnCalendar=daily
RandomizedDelaySec=1h
Persistent=true

[Install]
WantedBy=timers.target
</code></pre>

<p><em>logrotate.service</em>:</p>

<pre><code class="language-systemd">[Unit]
Description=Rotate log files

[Service]
Type=oneshot
ExecStart=/usr/sbin/logrotate /etc/logrotate.conf
</code></pre>

<h4 id="personal-cron-job">Personal Cron Job</h4>

<p>You can also schedule <code>logrotate</code> manually through a personal cron job:</p>

<pre><code class="language-bash"># Runs logrotate daily
@daily /sbin/logrotate -s /home/my_admin/cmd/log/logrotate.status /home/my_admin/cmd/logrotate.conf &gt;&gt; /home/my_admin/cmd/log/cron.log 2&gt;&amp;1
</code></pre>

<h2 id="creating-logrotate-with-ansible">Creating Logrotate With Ansible</h2>

<p>Managing log rotation through Ansible is a powerful way to automate log maintenance across multiple servers. Below is an example of how you can create a <code>logrotate</code> configuration using Ansible.</p>

<h3 id="ansible-playbook-example">Ansible Playbook Example</h3>

<p>This playbook installs <code>logrotate</code> (if it&rsquo;s not already installed) and creates a new configuration file under <code>/etc/logrotate.d/</code> for an application:</p>

<pre><code class="language-yaml">---

- hosts: all
  gather_facts: true
  become: true

  vars:
    logrotate_conf: |
      # Logrotate for application
      /var/log/application/* {
        # Keep 4 versions of file
        rotate 4

        # compress rotated files
        compress

        # Rotates the log files every week
        weekly

        # Ignores the error if the log file is missing
        missingok

        # Does not rotate the log if it is empty
        notifempty

        # Creates a new log file with specified permissions
        create 0755 apache splunk       
      }

  tasks:

    - name: Installs logrotate
      package:
        name: logrotate

    - name: Creates logrotate configuration
      copy:
        content: &quot;{{ logrotate_conf }}&quot;
        dest: /etc/logrotate.d/application
        owner: root
        group: root
        mode: '0644'

</code></pre>

<h3 id="explanation">Explanation</h3>

<ul>
<li><p><strong><code>logrotate_conf</code> variable</strong>: Defines the configuration file for <code>logrotate</code>. It includes options such as file rotation frequency, compression, and file permissions.</p>

<ul>
<li><code>rotate 4</code> – Keeps 4 old versions of the log.</li>
<li><code>compress</code> – Compresses the rotated logs.</li>
<li><code>weekly</code> – Rotates the logs every week.</li>
<li><code>missingok</code> – Ignores errors if the log file is missing.</li>
<li><code>notifempty</code> – Skips log rotation if the log is empty.</li>
<li><code>create 0755 apache splunk</code> – Creates a new log file with specific permissions, owned by <code>apache</code> and <code>splunk</code> groups.</li>
</ul></li>

<li><p><strong>Installs logrotate</strong>: The task ensures that <code>logrotate</code> is installed on the target servers.</p></li>

<li><p><strong>Creates logrotate configuration</strong>: The <code>copy</code> task creates the custom <code>logrotate</code> configuration file under <code>/etc/logrotate.d/</code>, with appropriate permissions.</p></li>
</ul>

<hr />

<p>By using Ansible, you can streamline the management of log rotation across your environment, ensuring consistency in how logs are maintained across all your systems.</p>

</div>


          <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.victormendonca.com%2f2024%2f09%2f09%2flogrotate-simplifying-log-management%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=Logrotate%3a%20Simplifying%20Log%20Management&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f09%2f09%2flogrotate-simplifying-log-management%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f09%2f09%2flogrotate-simplifying-log-management%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f09%2f09%2flogrotate-simplifying-log-management%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f09%2f09%2flogrotate-simplifying-log-management%2f&amp;title=Logrotate%3a%20Simplifying%20Log%20Management" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=Logrotate%3a%20Simplifying%20Log%20Management&amp;body=Check out this site https%3a%2f%2fblog.victormendonca.com%2f2024%2f09%2f09%2flogrotate-simplifying-log-management%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://blog.victormendonca.com/2024/02/14/getting-started-with-ansible-console/" title="Getting Started with Ansible Console">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//victorbrca-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

        
          <div>
  <h2><a href="https://blog.victormendonca.com/2024/02/14/getting-started-with-ansible-console/">Getting Started with Ansible Console</a>
</h2>

  <div class="margin-10">
    <small>
  <i class="fa fa-calendar"></i>
  <time datetime="2024-02-14">14 Feb, 2024</time>
</small>

    
  <i class="fa fa-tags"></i>
  
  <a href="https://blog.victormendonca.com/tags/linux" class="label label-primary">Linux</a>
  
  <a href="https://blog.victormendonca.com/tags/ansible" class="label label-primary">Ansible</a>
  


  </div>
</div>

          <div class="content">
  

<p>Are you ready to level up your Linux game and wield the power of automation like a true DevOps ninja? Enter Ansible Console, the interactive command-line interface that puts the force of Ansible at your fingertips!</p>

<p>In this introduction post, I&rsquo;ll take you on tour of Ansible Console, teaching you how to run ad-hoc tasks against your inventory with ease.</p>

<h3 id="what-is-ansible-console">What is Ansible Console</h3>

<p>Ansible Console is an interactive console for executing ad-hoc tasks against hosts defined in your Ansible inventory. It offers built-in command completion and a user-friendly interface, making it a versatile tool for system administrators and automation engineers.</p>

<h2 id="getting-started">Getting Started</h2>

<p>To begin using Ansible Console, launch it by invoking <code>ansible-console</code> with the default inventory, or by specifying a custom inventory file.</p>

<p>Using the default inventory:</p>

<pre><code class="language-none">$ ansible-console
</code></pre>

<p>Specifying an inventory file:</p>

<pre><code class="language-none">$ ansible-console -i [inventory]
</code></pre>

<p>Once launched, the console prompt will display essential information about the current context, including group names, the number of hosts, and forks.</p>

<pre><code class="language-none">ansible@all (6)[f:10]$
		  |  |    |- forks
		  |  |- number of hosts
		  |- group
</code></pre>

<p>Keep an eye on the prompt color – if it turns red, it&rsquo;s a subtle reminder that the <code>become</code> flag is set to true. Safety first, folks!</p>

<h2 id="inventory-management">Inventory Management</h2>

<p>Managing your inventory has never been easier. With Ansible Console, you can list hosts, groups, and even test connections with a flick of your wrist (or a tap of your keyboard).</p>

<p>Need to list all your hosts? No problem, just use the <code>list</code> sub-command:</p>

<pre><code class="language-none">ansible@all (6)[f:10]$ list
nut-pi
ubuntu-pi4
ubuntu-backup
ubuntu-lenovomini
freenas
pfsense
</code></pre>

<p>Want to flex your group management skills? Try this:</p>

<pre><code class="language-none">ansible@all (6)[f:10]$ list groups
all
centos
freebsd
linux
pfsense
raspberrypi
raspbian
rhel
truenas
ubuntu
ungrouped
</code></pre>

<p>And if you&rsquo;re feeling a bit adventurous, why not test the connection to your hosts using the trusty <code>ping</code> or the <code>ls</code> command?</p>

<p><code>ls</code></p>

<pre><code class="language-bash">ansible@all (6)[f:10]$ ls
freenas | CHANGED | rc=0 &gt;&gt;

pfsense | FAILED! =&gt; {
		&quot;changed&quot;: false,
		&quot;module_stderr&quot;: &quot;Shared connection to 192.168.1.1 closed.\r\n&quot;,
		&quot;module_stdout&quot;: &quot;/bin/sh: /usr/local/bin/python: not found\r\n&quot;,
		&quot;msg&quot;: &quot;The module failed to execute correctly, you probably need to set the interpreter.\nSee stdout/stderr for the exact error&quot;,
		&quot;rc&quot;: 127
}
ubuntu-lenovomini | CHANGED | rc=0 &gt;&gt;

ubuntu-backup | CHANGED | rc=0 &gt;&gt;

ubuntu-pi4 | CHANGED | rc=0 &gt;&gt;

nut-pi | CHANGED | rc=0 &gt;&gt;
</code></pre>

<p><code>ping</code></p>

<pre><code class="language-bash">ansible@all (6)[f:10]$ ping
freenas | SUCCESS =&gt; {
		&quot;changed&quot;: false,
		&quot;ping&quot;: &quot;pong&quot;
}
pfsense | FAILED! =&gt; {
		&quot;changed&quot;: false,
		&quot;module_stderr&quot;: &quot;Shared connection to 192.168.1.1 closed.\r\n&quot;,
		&quot;module_stdout&quot;: &quot;/bin/sh: /usr/local/bin/python: not found\r\n&quot;,
		&quot;msg&quot;: &quot;The module failed to execute correctly, you probably need to set the interpreter.\nSee stdout/stderr for the exact error&quot;,
		&quot;rc&quot;: 127
}
ubuntu-lenovomini | SUCCESS =&gt; {
		&quot;changed&quot;: false,
		&quot;ping&quot;: &quot;pong&quot;
}
ubuntu-backup | SUCCESS =&gt; {
		&quot;changed&quot;: false,
		&quot;ping&quot;: &quot;pong&quot;
}
ubuntu-pi4 | SUCCESS =&gt; {
		&quot;changed&quot;: false,
		&quot;ping&quot;: &quot;pong&quot;
}
nut-pi | SUCCESS =&gt; {
		&quot;changed&quot;: false,
		&quot;ping&quot;: &quot;pong&quot;
}
</code></pre>

<h3 id="selecting-host-or-group">Selecting Host or Group</h3>

<p>You can select a host or a group with the &lsquo;cd&rsquo; command (note how the prompt changes).</p>

<p><em>Host</em></p>

<pre><code class="language-none">ansible@all (6)[f:10]$ cd pfsense
ansible@pfsense (1)[f:10]$
</code></pre>

<p><em>Group</em></p>

<pre><code class="language-none">ansible@all (6)[f:10]$ cd ubuntu
ansible@ubuntu (3)[f:10]$
</code></pre>

<p><em>You can also use host patterns eg.: <code>app*.dc*:!app01*</code></em></p>

<h3 id="configuration-customization">Configuration Customization</h3>

<p>Ansible Console puts the power in your hands with customizable configuration options. Whether you need to specify the remote user, adjust the number of forks, toggle the <code>become</code> flag (and many more), Ansible Console has got you covered.</p>

<pre><code class="language-none">ansible@all (0)[f:5]$ remote_user [username]
ansible@all (0)[f:5]$ forks 7
ansible@all (0)[f:5]$ become [true|false]
ansible@all (0)[f:5]$ check [true|false]
ansible@all (0)[f:5]$ diff [true|false]
</code></pre>

<h3 id="modules">Modules</h3>

<p>Ah, modules – the bread and butter of Ansible automation. With Ansible Console, you can unleash the full potential of Ansible modules right from your command line.</p>

<p>Use the <code>help</code> sub-command to get a list of available modules:</p>

<pre><code class="language-none">ansible@ubuntu (3)[f:10]$ help
	
Documented commands (type help &lt;topic&gt;):
========================================

[... truncated ...]

wti.remote.cpm_syslog_server_info
wti.remote.cpm_temp_info
wti.remote.cpm_time_config
wti.remote.cpm_time_info
wti.remote.cpm_user

Undocumented commands:
======================
ping
</code></pre>

<p>Explore the vast array of available modules or dive deep into specific modules for detailed information and usage examples. Simply provide the module name as an argument to <code>help</code>. And don&rsquo;t forget that Ansible Console has built-in tab completion, so make sure to use and abuse it:</p>

<pre><code class="language-none">ansible@ubuntu (3)[f:10]$ help copy

Copy files to remote locations
Parameters:
	src Local path to a file to copy to the remote server.
	content When used instead of O(src), sets the contents of a file directly to the specified value.
	dest Remote absolute path where the file should be copied to.
	backup Create a backup file including the timestamp information so you can get the original file back if you somehow clobbered it incorrectly.
	force Influence whether the remote file must always be replaced.
	mode The permissions of the destination file or directory.
	directory_mode Set the access permissions of newly created directories to the given mode. Permissions on existing directories do not change.
	remote_src Influence whether O(src) needs to be transferred or already is present remotely.
	follow This flag indicates that filesystem links in the destination, if they exist, should be followed.
	local_follow This flag indicates that filesystem links in the source tree, if they exist, should be followed.
	checksum SHA1 checksum of the file being transferred.
	decrypt This option controls the autodecryption of source files using vault.
	owner Name of the user that should own the filesystem object, as would be fed to I(chown).
	group Name of the group that should own the filesystem object, as would be fed to I(chown).
	seuser The user part of the SELinux filesystem object context.
	serole The role part of the SELinux filesystem object context.
	setype The type part of the SELinux filesystem object context.
	selevel The level part of the SELinux filesystem object context.
	unsafe_writes Influence when to use atomic operation to prevent data corruption or inconsistent reads from the target filesystem object.
	attributes The attributes the resulting filesystem object should have.
	validate The validation command to run before copying the updated file into the final destination.
</code></pre>

<h4 id="module-usage-examples">Module Usage Examples</h4>

<h5 id="installing-a-package">Installing a Package</h5>

<pre><code class="language-none">ansible@ubuntu (3)[f:10]$ ansible.builtin.package name=git
</code></pre>

<h5 id="installing-a-pip-package">Installing a PIP Package</h5>

<pre><code class="language-none"> ansible@ubuntu (3)[f:10]$ ansible.builtin.pip name=youtube-dl
</code></pre>

<h4 id="modules-vs-commands">Modules vs Commands</h4>

<p>Anything that you type and it&rsquo;s not a module will be run as a command. For example:</p>

<pre><code class="language-bash">ansible@ubuntu (3)[f:10]$ cat /etc/hostname
ubuntu-lenovomini | CHANGED | rc=0 &gt;&gt;
ubuntu-lenovomini
ubuntu-pi4 | CHANGED | rc=0 &gt;&gt;
ubuntu-pi4
ubuntu-backup | CHANGED | rc=0 &gt;&gt;
ubuntu-backup
</code></pre>

<p>However, if a module exists, <code>ansible-console</code> will invoke that module, or give you an error.</p>

<p>Example with <code>hostname</code>, which is a built-in module:</p>

<pre><code class="language-bash">ansible@ubuntu (3)[f:10]$ help hostname
Manage hostname
Parameters:
	name Name of the host.
	use Which strategy to use to update the hostname.
</code></pre>

<p>The module expects a parameter, so it fails:</p>

<pre><code class="language-bash">ansible@ubuntu (3)[f:10]$ hostname
ubuntu-lenovomini | FAILED! =&gt; {
		&quot;changed&quot;: false,
		&quot;msg&quot;: &quot;missing required arguments: name&quot;
}
ubuntu-pi4 | FAILED! =&gt; {
		&quot;changed&quot;: false,
		&quot;msg&quot;: &quot;missing required arguments: name&quot;
}
ubuntu-backup | FAILED! =&gt; {
		&quot;changed&quot;: false,
		&quot;msg&quot;: &quot;missing required arguments: name&quot;
}
</code></pre>

<p>Another example, but now with <code>yum</code>:</p>

<pre><code class="language-none">ansible@ubuntu (3)[f:10]$ yum check-update -q
 [ERROR]: Unable to build command: this task 'yum' has extra params, which is only allowed in the following modules: ansible.legacy.group_by, shell, ansible.legacy.set_fact, ansible.builtin.include_tasks, command, ansible.legacy.script, ansible.legacy.include,
ansible.builtin.group_by, ansible.legacy.shell, set_fact, ansible.builtin.shell, win_command, ansible.legacy.command, ansible.legacy.win_shell, ansible.builtin.set_fact, ansible.builtin.add_host, ansible.legacy.import_role, include_role, ansible.builtin.win_shell, include,
ansible.legacy.win_command, ansible.legacy.include_tasks, include_tasks, ansible.legacy.add_host, ansible.builtin.include_role, group_by, ansible.builtin.meta, ansible.builtin.raw, import_role, ansible.legacy.raw, ansible.builtin.command, ansible.legacy.include_vars, script,
win_shell, ansible.builtin.script, ansible.legacy.import_tasks, add_host, meta, ansible.builtin.import_tasks, ansible.windows.win_shell, ansible.builtin.include, ansible.windows.win_command, ansible.builtin.include_vars, raw, ansible.builtin.import_role, include_vars, import_tasks,
ansible.builtin.win_command, ansible.legacy.meta, ansible.legacy.include_role
</code></pre>

<p>But sometimes you may need to run a command that exists as a module instead of the module itself. This can easily be done with the <code>!</code>:</p>

<pre><code class="language-none">ansible@ubuntu-pi4 (1)[f:10]$ !apt list --upgradable
ubuntu-pi4 | CHANGED | rc=0 &gt;&gt;
Listing...
base-files/focal-updates 11ubuntu5.8 arm64 [upgradable from: 11ubuntu5.7]
gnome-shell-common/focal-updates 3.36.9-0ubuntu0.20.04.3 all [upgradable from: 3.36.9-0ubuntu0.20.04.2]
gnome-shell/focal-updates 3.36.9-0ubuntu0.20.04.3 arm64 [upgradable from: 3.36.9-0ubuntu0.20.04.2]
libnss-systemd/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
libpam-systemd/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
libsystemd0/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
libudev1/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
motd-news-config/focal-updates 11ubuntu5.8 all [upgradable from: 11ubuntu5.7]
systemd-sysv/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
systemd-timesyncd/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
systemd/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
tailscale/unknown 1.58.2 arm64 [upgradable from: 1.56.1]
tzdata/focal-updates 2023d-0ubuntu0.20.04 all [upgradable from: 2023c-0ubuntu0.20.04.2]
udev/focal-updates 245.4-4ubuntu3.23 arm64 [upgradable from: 245.4-4ubuntu3.22]
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
</code></pre>

<h3 id="variables">Variables</h3>

<p>Collection variables are not available by default because <code>ansible-console</code>, unlike <code>ansible-playbook</code>, doesn&rsquo;t gather facts before running:</p>

<pre><code class="language-bash">ansible@ubuntu-pi4 (1)[f:10]$ debug msg=&quot;{{ ansible_facts.architecture }}&quot;
ubuntu-pi4 | FAILED! =&gt; {
		&quot;msg&quot;: &quot;The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'architecture'. 'dict object' has no attribute 'architecture'. 'dict object' has no attribute 'architecture'. 'dict object' has no attribute 'architecture'&quot;
}
</code></pre>

<p>But fear not, you can manually invoke the <code>setup</code> module and either filter the values, or print them with the <code>debug</code> module:</p>

<pre><code class="language-bash">ansible@ubuntu-pi4 (1)[f:10]$ setup filter=&quot;*architecture&quot;
ubuntu-pi4 | SUCCESS =&gt; {
		&quot;ansible_facts&quot;: {
				&quot;ansible_architecture&quot;: &quot;aarch64&quot;
		},
		&quot;changed&quot;: false
}

ansible@ubuntu-pi4 (1)[f:10]$ debug msg=&quot;{{ ansible_facts.architecture }}&quot;
ubuntu-pi4 | SUCCESS =&gt; {
		&quot;msg&quot;: &quot;aarch64&quot;
}
</code></pre>

<h3 id="conclusion">Conclusion</h3>

<p>With its intuitive interface and powerful functionality, Ansible Console offers a convenient way to execute ad-hoc tasks and manage your Ansible inventory interactively. By mastering Ansible Console, you can streamline your automation workflows and improve operational efficiency in your environment.</p>

</div>


          <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.victormendonca.com%2f2024%2f02%2f14%2fgetting-started-with-ansible-console%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=Getting%20Started%20with%20Ansible%20Console&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f02%2f14%2fgetting-started-with-ansible-console%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f02%2f14%2fgetting-started-with-ansible-console%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f02%2f14%2fgetting-started-with-ansible-console%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2024%2f02%2f14%2fgetting-started-with-ansible-console%2f&amp;title=Getting%20Started%20with%20Ansible%20Console" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=Getting%20Started%20with%20Ansible%20Console&amp;body=Check out this site https%3a%2f%2fblog.victormendonca.com%2f2024%2f02%2f14%2fgetting-started-with-ansible-console%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://blog.victormendonca.com/2023/12/21/playing-a-sound-on-headless-server-boot/" title="Playing a Sound on Headless Server Boot">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="https://blog.victormendonca.com/2024/09/09/logrotate-simplifying-log-management/" title="Logrotate: Simplifying Log Management">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//victorbrca-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

        
          <div>
  <h2><a href="https://blog.victormendonca.com/2023/12/21/playing-a-sound-on-headless-server-boot/">Playing a Sound on Headless Server Boot</a>
</h2>

  <div class="margin-10">
    <small>
  <i class="fa fa-calendar"></i>
  <time datetime="2023-12-21">21 Dec, 2023</time>
</small>

    
  <i class="fa fa-tags"></i>
  
  <a href="https://blog.victormendonca.com/tags/linux" class="label label-primary">Linux</a>
  
  <a href="https://blog.victormendonca.com/tags/ubuntu" class="label label-primary">Ubuntu</a>
  


  </div>
</div>

          <div class="content">
  

<p>Beep is a versatile utility that transforms your computer speaker into a musical instrument reminiscent of early Nintendo-style sounds. You provide a frequency and length and beep will play the respective sound.</p>

<p>I started using beep in the early 2000s with <a href="https://en.wikipedia.org/wiki/Smoothwall">Smoothwall</a> (think of a Linux predecessor to pfSense) to notify me when it had rebooted. That is still my main use for the utility (less the Smoothwall part), but it can be used for many other things.</p>

<p>We&rsquo;ll go through a quick setup on Ubuntu using group permission, but you can refer to the main GitHub repo (<a href="https://github.com/spkr-beep/beep/blob/master/PERMISSIONS.md">Permission setup for beep</a>) for alternative setup instructions if you need something different.</p>

<h3 id="configuration">Configuration</h3>

<p>Let&rsquo;s start by installing beep:</p>

<pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt install beep
</code></pre>

<p>Now create the <code>beep</code> system group. Any user member of this group will be able to run beep:</p>

<pre><code class="language-bash">sudo addgroup --system beep
</code></pre>

<p>Add it as a secondary group for your user:</p>

<pre><code class="language-bash">sudo usermod [user] -a -G beep
</code></pre>

<p>Create the udev rule to allow the group permission to the speaker:</p>

<p><code>/usr/lib/udev/rules.d/90-pcspkr-beep.rules</code></p>

<pre><code class="language-none"># Add write access to the PC speaker for the &quot;beep&quot; group
ACTION==&quot;add&quot;, SUBSYSTEM==&quot;input&quot;, ATTRS{name}==&quot;PC Speaker&quot;, ENV{DEVNAME}!=&quot;&quot;, GROUP=&quot;beep&quot;, MODE=&quot;0620&quot;
</code></pre>

<p>Comment out the existing blacklist for &lsquo;pcspkr&rsquo; in <code>/etc/modprobe.d/blacklist.conf</code>:</p>

<pre><code class="language-none"># ugly and loud noise, getting on everyone's nerves; this should be done by a
# nice pulseaudio bing (Ubuntu: #77010)
# blacklist pcspkr
</code></pre>

<p>Load the module:</p>

<pre><code class="language-bash">sudo modprobe pcspkr
</code></pre>

<p>Now let&rsquo;s test to make sure that it works. You will need to logout and log back in, or simply ssh to your localhost (this is so the secondary group is loaded). And then run beep with the options below:</p>

<pre><code class="language-bash">beep -f 587 -l 714
</code></pre>

<p><img src="https://blog.victormendonca.com/img/playing-a-sound-on-headless-server-boot/beep.jpg" alt="" /></p>

<p>If that works then we have confirmed that we configured everything correctly. Just a reminder, your computer needs to have a speaker otherwise beep wont work.</p>

<p>Now let&rsquo;s create a sample script and the Systemd unit file for the service that will play beep after boot.</p>

<p>Create the following script and give it execute permission:</p>

<p><code>/usr/local/bin/star-trek.sh</code></p>

<pre><code class="language-bash">#!/bin/bash
beep -f 587 -l 714
beep -f 784 -l 238
beep -f 1046 -l 1428
beep -f 987 -l 476
beep -f 784 -l 357
beep -f 659 -l 357
beep -f 880 -l 357
beep -f 1174 -l 952
</code></pre>

<pre><code class="language-bash">sudo chmod +x /usr/local/bin/star-trek.sh
</code></pre>

<p>Create  <code>/lib/systemd/system/beep-startup.service</code> with the following content. Note that you will need to change the <code>User=</code> property to be the username for your user:</p>

<pre><code class="language-systemd"># /lib/systemd/system/beep-startup.service
[Unit]
Description=Plays startup audio
After=network-online.target

[Service]
Type=simple
ExecStart=/usr/local/bin/star-trek.sh
User=[user]

[Install]
WantedBy=default.target
</code></pre>

<p>Let&rsquo;s enable and start the service, and it should play the Star Trek intro sound:</p>

<pre><code class="language-bash">systemctl enable --now beep-startup.service
</code></pre>

<p><img src="https://blog.victormendonca.com/img/playing-a-sound-on-headless-server-boot/star-trek.jpg" alt="" /></p>

<h3 id="conclusion">Conclusion</h3>

<p>With these configurations, your machine will serenade you with the iconic Star Trek intro sound after establishing a network connection during boot. Dive into the world of beep, and if you&rsquo;re looking for more scripts, explore <a href="https://github.com/victorbrca/beep-scripts">GitHub - victorbrca/beep-scripts</a> for an extensive collection. Happy beeping!</p>

</div>


          <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.victormendonca.com%2f2023%2f12%2f21%2fplaying-a-sound-on-headless-server-boot%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=Playing%20a%20Sound%20on%20Headless%20Server%20Boot&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f12%2f21%2fplaying-a-sound-on-headless-server-boot%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f12%2f21%2fplaying-a-sound-on-headless-server-boot%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f12%2f21%2fplaying-a-sound-on-headless-server-boot%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f12%2f21%2fplaying-a-sound-on-headless-server-boot%2f&amp;title=Playing%20a%20Sound%20on%20Headless%20Server%20Boot" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=Playing%20a%20Sound%20on%20Headless%20Server%20Boot&amp;body=Check out this site https%3a%2f%2fblog.victormendonca.com%2f2023%2f12%2f21%2fplaying-a-sound-on-headless-server-boot%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://blog.victormendonca.com/2023/11/27/rhce-v8-practiceexam/" title="RHCE v8 Practice Exam">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="https://blog.victormendonca.com/2024/02/14/getting-started-with-ansible-console/" title="Getting Started with Ansible Console">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//victorbrca-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

        
          <div>
  <h2><a href="https://blog.victormendonca.com/2023/11/27/rhce-v8-practiceexam/">RHCE v8 Practice Exam</a>
</h2>

  <div class="margin-10">
    <small>
  <i class="fa fa-calendar"></i>
  <time datetime="2023-11-27">27 Nov, 2023</time>
</small>

    
  <i class="fa fa-tags"></i>
  
  <a href="https://blog.victormendonca.com/tags/linux" class="label label-primary">Linux</a>
  
  <a href="https://blog.victormendonca.com/tags/redhat" class="label label-primary">RedHat</a>
  
  <a href="https://blog.victormendonca.com/tags/rhce" class="label label-primary">RHCE</a>
  


  </div>
</div>

          <div class="content">
  

<p>I created this practice exam as part of my preparation for the Red Hat RHCE exam (EX294V84K). It comprises 10 advanced-level tasks, with a focus on incorporating some of the most challenging RHCSA objectives.</p>

<p>Answers are available on my practice environment at <a href="https://github.com/victorbrca/rhce8-practice-env/tree/main/practice_exams/exam2/answers">victorbrca/rhce8-practice-env</a>.</p>

<h2 id="pre-requisites">Pre-requisites</h2>

<ul>
<li>Setup the Vagrant/VirtualBox environment - <a href="https://github.com/victorbrca/rhce8env">victorbrca/rhce8env</a></li>
<li>Register for a free Red Hat Developer subscription - <a href="https://developers.redhat.com/blog/2021/02/10/how-to-activate-your-no-cost-red-hat-enterprise-linux-subscription">instructions</a></li>
<li>On the control node:

<ul>
<li>Register with you developer subscription. Set it to the 8.4 release</li>
<li>Uninstall Ansible if installed</li>
<li>Remove all EPEL repos</li>
<li>Add the <code>ansible-2.9-for-rhel-8-x86_64-rpms</code> repo via subscription manager</li>
</ul></li>
<li>Add an additional 10GB disk to node4</li>
<li>Increase memory on node4 to 1024M</li>
</ul>

<h2 id="objectives">Objectives</h2>

<p>The following top-level objectives are covered on this exam, as per &lsquo;EX294V84K&rsquo;.</p>

<ol>
<li>Be able to perform all tasks expected of a Red Hat Certified System Administrator</li>
<li>Understand core components of Ansible</li>
<li>Install and configure an Ansible control node</li>
<li>Configure Ansible managed nodes</li>
<li>Script administration tasks</li>
<li>Create and use static inventories to define groups of hosts</li>
<li>Create Ansible plays and playbooks</li>
<li>Use Ansible modules for system administration tasks that work with:</li>
<li>Create and use templates to create customized configuration files</li>
<li>Work with Ansible variables and facts</li>
<li>Create and work with roles</li>
<li>Download roles from an Ansible Galaxy and use them</li>
<li>Use Ansible Vault in playbooks to protect sensitive data</li>
<li>Use provided documentation to look up specific information about Ansible modules and commands</li>
</ol>

<h2 id="tasks">Tasks</h2>

<h3 id="task-1">Task 1</h3>

<h5 id="objectives-covered">Objectives covered:</h5>

<ul>
<li>2. Understand core components of Ansible</li>
<li>3. Install and configure an Ansible control node</li>
<li>4. Configure Ansible managed nodes</li>
</ul>

<h5 id="tasks-1">Tasks:</h5>

<ul>
<li>Install ansible on the control node</li>
<li>Create a user called &lsquo;ansible&rsquo; on the control node</li>
<li>Create the directory <code>/home/ansible/exam-files</code>. This is where all files will be saved

<ul>
<li>Create the following sub-directories:</li>
<li>roles, vars, playbooks, scripts, files</li>
<li>Create an ssh key for the &lsquo;ansible&rsquo; user in this folder</li>
</ul></li>
<li>Create an inventory file with the nodes:

<ul>
<li>node1</li>
<li>node2</li>
<li>node3</li>
<li>node4</li>
</ul></li>
<li>Create an ansible config file as follows:

<ul>
<li>Roles path is set to <code>/home/ansible/exam-files/roles</code></li>
<li>Inventory file is <code>/home/ansible/exam-files/inventory</code></li>
<li>User to SSH to remote nodes is &lsquo;ansible&rsquo;</li>
<li>Add the ssh key from the previous task</li>
<li>Disable:</li>
<li>Cow output</li>
<li>Retry files</li>
<li>Host key checking</li>
</ul></li>
<li>SSH to all nodes and create the &lsquo;ansible&rsquo; user. Give it a password</li>
<li>Make so that the &lsquo;ansible&rsquo; user can elevate privileges without a password on all nodes</li>
<li>Distribute the ssh key created to the nodes (use any method)</li>
<li>Disable ssh password authentication for the &lsquo;ansible&rsquo; user on all nodes</li>
<li>Create the ad-hoc script <code>/home/ansible/exam-files/scripts/check-connection.sh</code> that checks that the ssh connection works to all nodes</li>
</ul>

<h3 id="task-2">Task 2</h3>

<h5 id="objectives-covered-1">Objectives covered:</h5>

<ul>
<li>5. Script administration tasks</li>
</ul>

<h5 id="tasks-2">Tasks:</h5>

<ul>
<li><p>Create the shell script <code>/home/ansible/exam-files/scripts/get-server-info.sh</code> that:</p>

<ul>
<li>Gets the hostname, OS name, OS version, tuned service status, and the tuned profile that is currently active. Output should look like:</li>
</ul>

<pre><code class="language-none">Hostname: control.ansi.example.com
Name: &quot;Red Hat Enterprise Linux&quot;
Version: &quot;8.0 (Ootpa)&quot;
Tuned status: active
Current active profile: virtual-guest
</code></pre></li>

<li><p>Create the ad-hoc script <code>/home/ansible/exam-files/scripts/task2.sh</code> that:</p>

<ul>
<li>Uploads &lsquo;get-server-info.sh&rsquo; to &lsquo;node1&rsquo; with:</li>
<li>To <code>/usr/local/bin/get-server-info.sh</code></li>
<li>Owned by &lsquo;root:root&rsquo;</li>
<li>Permission is &lsquo;rwxr-xr-x&rsquo;</li>
</ul></li>

<li><p>Run the add-hoc script</p></li>
</ul>

<h3 id="task-3">Task 3</h3>

<h5 id="objectives-covered-2">Objectives covered:</h5>

<ul>
<li>6. Create and use static inventories to define groups of hosts</li>
</ul>

<h5 id="tasks-3">Tasks:</h5>

<ul>
<li>Modify the inventory file to have the following groups

<ul>
<li>&lsquo;node1&rsquo; and &lsquo;node2&rsquo; are in the &lsquo;webservers&rsquo; group</li>
<li>&lsquo;node3&rsquo; and &lsquo;node4&rsquo; are in the &lsquo;databases&rsquo; group</li>
<li>&lsquo;node3&rsquo; is in the &lsquo;mysql&rsquo; group</li>
<li>&lsquo;node4&rsquo; is in the &lsquo;postgresql&rsquo; group</li>
<li>&lsquo;node1&rsquo; is in the &lsquo;version1&rsquo; group</li>
<li>&lsquo;node2&rsquo; is in the &lsquo;version2&rsquo; group</li>
</ul></li>
</ul>

<h3 id="task-4">Task 4</h3>

<h5 id="objectives-covered-3">Objectives covered:</h5>

<ul>
<li>7. Create Ansible plays and playbooks</li>
</ul>

<h5 id="tasks-4">Tasks:</h5>

<ul>
<li>Create the playbook <code>/home/ansible/exam-files/playbooks/task4.yml</code>that:

<ul>
<li>Creates the folder <code>/data/backup</code> on the &lsquo;webservers&rsquo; group. The folder should have read and execute permission for group and others</li>
<li>Creates the file <code>/etc/server_role</code> on all servers

<ul>
<li>The content of the file should be &lsquo;webservers&rsquo; or &lsquo;databases&rsquo; according to the inventory group</li>
</ul></li>
<li>Create a task that uses the <code>rpm</code> command to check if &lsquo;httpd&rsquo; is installed on the webservers and databases groups</li>
<li>This task should only show as changed when it fails</li>
<li>Ceate two tasks that display the following output based on the exit code from the <code>rpm</code> task. These tasks should run against the same groups as the <code>rpm</code> task:

<ul>
<li>&lsquo;HTTPD is installed&rsquo; if it&rsquo;s installed</li>
<li>&lsquo;HTTPD is not installed&rsquo; if it&rsquo;s not installed</li>
</ul></li>
<li>Makes sure that the default system target is set to &lsquo;multi-user.target&rsquo;

<ul>
<li>Should only set the target if not already set</li>
<li>Should show change on failure</li>
<li>Should ignore errors</li>
</ul></li>
</ul></li>
</ul>

<h3 id="task-5">Task 5</h3>

<h5 id="objectives-covered-4">Objectives covered:</h5>

<ul>
<li>1. Be able to perform all tasks expected of a Red Hat Certified System Administrator</li>
<li>8. Use Ansible modules for system administration tasks that work with</li>
<li>10. Work with Ansible variables and facts</li>
</ul>

<h5 id="tasks-5">Tasks:</h5>

<ul>
<li>Create bash a script called <code>/home/ansible/exam-files/files/root_space_check.sh</code> that gets the used space percent for root (<code>/</code>) and:

<ul>
<li>Logs an info message to journald that looks like <code>root_space_check.sh[PID]: / usage is within threshold</code> when usage is below 70%</li>
<li>Logs a warning message to journald with <code>root_space_check.sh[PID]: / usage is above 70% threshold</code> when usage is above 70%</li>
</ul></li>
<li>Create the playbook <code>/home/ansible/exam-files/playbooks/task5.yml</code> that

<ul>
<li>Uploads the <code>root_space_check.sh</code> script to <code>/usr/local/bin/</code> to all servers and set execute bit all accross (ugo)</li>
<li>Adds an entry to root&rsquo;s crontab to execute the script every hour on all servers</li>
<li>Does the following on the &lsquo;webservers&rsquo; group</li>
<li>Installs &lsquo;httpd&rsquo;</li>
<li>Enables and starts the &lsquo;httpd&rsquo; service</li>
<li>Enables the &lsquo;http&rsquo; and &lsquo;httpd&rsquo; service on firewalld (runtime and permanent)</li>
<li>Sets the <code>Listen</code> option in <code>/etc/httpd/conf/httpd.conf</code> to the internal IP. E.g.: <code>Listen 192.168.55.201:80</code>. Use facts variables for the internal IP</li>
<li>Whenever <code>httpd.conf</code> is changed

<ul>
<li>Make sure that the &lsquo;httpd&rsquo; service is restarted</li>
<li>Backs up an archived (zip) version of <code>httpd.conf</code> to <code>/data/backup/httpd.conf-[YYYYMMDD_HHMMSS].zip</code> (change <code>[YYYYMMDD_HHMMSS]</code> to a date string, e.g.: &lsquo;20231123_2400&rsquo;)</li>
</ul></li>
<li>Configures storage on the mysql group as follow:</li>
<li>PV using /dev/sdb</li>
<li>VG named &lsquo;databases_vg&rsquo;</li>
<li>LV name &lsquo;databases_lv&rsquo;</li>
<li>ext4 filesystem with the volume label of &lsquo;DATABASES&rsquo;</li>
<li>Mounted on fstab under <code>/data/databases</code></li>
<li>Enables SELinux on the databases group with targeted policy</li>
</ul></li>
</ul>

<h3 id="task-6">Task 6</h3>

<h5 id="objectives-covered-5">Objectives covered:</h5>

<ul>
<li>9. Create and use templates to create customized configuration files</li>
<li>10. Work with Ansible variables and facts</li>
<li>11. Create and work with roles</li>
</ul>

<h5 id="files">Files:</h5>

<p><code>index.html</code></p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Server Information&lt;/title&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        div {
            margin-bottom: 10px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Server Information&lt;/h1&gt;

    &lt;div&gt;
        &lt;strong&gt;Hostname:&lt;/strong&gt; &lt;span id=&quot;hostname&quot;&gt;[HOSTNAME]&lt;/span&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;strong&gt;Node Group:&lt;/strong&gt; &lt;span id=&quot;group&quot;&gt;[NODE GROUP]&lt;/span&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;strong&gt;IP Address:&lt;/strong&gt; &lt;span id=&quot;ip&quot;&gt;[IP ADDRESS]&lt;/span&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;strong&gt;Timezone:&lt;/strong&gt; &lt;span id=&quot;timezone&quot;&gt;[TIMEZONE]&lt;/span&gt;
    &lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h5 id="tasks-6">Tasks:</h5>

<ul>
<li>Create the role <code>/home/ansible/exam-files/roles/start-page</code>

<ul>
<li>Manually convert the index.html file into a jinja2 template that will set the following values and add it to the &lsquo;start-page&rsquo; role as a template:</li>
</ul></li>
</ul>

<pre><code class="language-none">[HOSTNAME] - Should get the node FQDN value from an ansible fact variable
[VERSION] - Version group from the inventory
[IP ADDRESS] - Should get the node internal IP value from an ansible fact variable
[TIMEZONE] - Should
</code></pre>

<ul>
<li>Create the main task for this role to push the template</li>
<li>Create the role <code>/home/ansible/exam-files/roles/journald-persistent</code>. This role should:

<ul>
<li>Enable persistent journald with all the required steps</li>
<li>Set the max storage to 100M</li>
<li>Reload the service when changes are made</li>
</ul></li>
<li>Create the playbook <code>/home/ansible/exam-files/playbooks/task6.yml</code> that applies the &lsquo;start-page&rsquo; role to the &lsquo;webservers&rsquo; group and the &lsquo;jounald-persistent&rsquo; role to all servers</li>
</ul>

<h3 id="task-7">Task 7</h3>

<h5 id="objectives-covered-6">Objectives covered:</h5>

<ol>
<li>Work with Ansible variables and facts</li>
</ol>

<h5 id="tasks-7">Tasks:</h5>

<ul>
<li>Create the a custom fact for the &lsquo;webservers&rsquo; group with the structure below:

<ul>
<li><code>app_version</code> should be based on the version specified in the inventory file</li>
</ul></li>
</ul>

<pre><code class="language-none">&quot;exam&quot;: {
    &quot;server_info&quot;: {
        &quot;group&quot;: &quot;webservers&quot;,
        &quot;app_version&quot;: &quot;1&quot;
    }
}
</code></pre>

<blockquote>
<p><strong>NOTE:</strong> This task can be done via a playbook or manually</p>
</blockquote>

<h3 id="task-8">Task 8</h3>

<h5 id="objectives-covered-7">Objectives covered:</h5>

<ul>
<li>1. Be able to perform all tasks expected of a Red Hat Certified System Administrator</li>
<li>11. Create and work with roles</li>
</ul>

<h5 id="tasks-8">Tasks:</h5>

<p><em><strong>Before you start, remember you should have added a 10GB disk to node4 and increased it&rsquo;s memory to 1024M</strong></em></p>

<ul>
<li><p>Create the role <code>/home/ansible/exam-files/roles/postgresql</code> that does the following:</p>

<ul>
<li>Creates a VDO on the 10G disk with:

<ul>
<li>VDO name is &lsquo;databases_vdo&rsquo;</li>
<li>20G logical size</li>
<li>Deduplication disabled</li>
<li>Auto write mode (write policy)</li>
</ul></li>
</ul>

<p><em><strong>Perform needed VDO steps, as per RHCSA</strong></em></p>

<ul>
<li>Create a logical volume with:

<ul>
<li>PV using the vdo device</li>
<li>VG named &lsquo;databases_vg&rsquo;</li>
<li>LV name &lsquo;databases_lv&rsquo;</li>
</ul></li>
<li>Format and mount with:

<ul>
<li>ext4 filesystem (using VDO requirements)</li>
<li>Mounted on fstab under <code>/data/databases</code></li>
</ul></li>
</ul>

<p><em><strong>Follow vdo mount requirements, as per RHCSA</strong></em></p>

<ul>
<li>Installs the postgresql package group - <code>@postgresql</code></li>
<li>Modifies the value of <code>Environment=PGDATA=</code> in the systemd service for &lsquo;postgresql.service&rsquo; to have the value below (<em>remember the old path and make sure new value is reloaded</em>)
<code>Environment=PGDATA=/data/databases/postgresql_data</code></li>
<li>Creates the directory <code>/data/databases/postgresql_data</code></li>
<li>Sets the ownership of <code>/data/databases/postgresql_data</code> to <code>postgres:postgres</code> with <code>rwx------</code></li>
<li>Initializes the DB with <code>postgresql-setup --initdb</code>

<ul>
<li>Should only run during setup</li>
</ul></li>
<li>Enables the SELinux boolean <code>selinuxuser_postgresql_connect_enabled</code></li>
<li>Enables and starts the service <code>postgresql.service</code>

<ul>
<li>The service should be restarted whenever the systemd unit file for <code>postgresql.service</code> is changed</li>
</ul></li>
</ul>

<p><strong>See warning below</strong></p></li>

<li><p>Create the playbook <code>/home/ansible/exam-files/playbooks/deploy-postgresql.yml</code> that pushes this role to the &lsquo;postgresql&rsquo; group</p></li>

<li><p>Add the following to the same playbook as tasks:</p>

<ul>
<li>Creates the dir <code>/data/db_troubleshoot</code></li>
<li>Sets the ownership of <code>/data/db_troubleshoot</code> to <code>postgres:postgres</code> with <code>rwx------</code></li>
<li>Creates the group &lsquo;pgsqladmin&rsquo;</li>
<li>Creates the user &lsquo;dbadmin&rsquo; with primary group of &lsquo;pgsqladmin&rsquo;</li>
<li>Adds an ACL that gives the &lsquo;pgsqladmin&rsquo; group full access to <code>/data/db_troubleshoot</code>. This should also be the default ACL for new files</li>
</ul></li>
</ul>

<blockquote>
<p><strong>WARNING</strong></p>

<p>The postgresql service will fail to start. You will need to logon to the server and fix the issue. The solution/fix can be done manually, but it needs to be part of the playbook.</p>
</blockquote>

<hr />

<blockquote>
<p><strong>TIP</strong></p>

<p>While creating the VDO device you may run into the error below:</p>

<pre><code> fatal: [node4]: FAILED! =&gt; {
     &quot;changed&quot;: false,
     &quot;module_stderr&quot;: &quot;Shared connection to node4 closed.\r\n&quot;,
     &quot;module_stdout&quot;: &quot;/tmp/ansible_vdo_payload_crp07req/ansible_vdo_payload.zip/ansible/modules/system/vdo.py:330: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.\r\n/bin/sh: line 1:  6280 Killed                  /usr/libexec/platform-python /home/ansible/.ansible/tmp/ansible-tmp-1701096243.3300107-7102-276967642935618/AnsiballZ_vdo.py\r\n&quot;,
     &quot;msg&quot;: &quot;MODULE FAILURE\nSee stdout/stderr for the exact error&quot;,
     &quot;rc&quot;: 137
 }
</code></pre>

<p>If that&rsquo;s the case, fully remove the vdo device and then apply the patch below. While this is not part of the exam, it&rsquo;s a good skill to aquire.</p>

<p><a href="https://github.com/ansible-collections/community.general/pull/5632/files">https://github.com/ansible-collections/community.general/pull/5632/files</a></p>

<p>You can identify the path for the Ansible code with <code>ansible --version</code>. Then browse to the module shown in that commit message and modify the 2x lines. Note that the line number may not match, but should be pretty close.</p>
</blockquote>

<h3 id="task-9">Task 9</h3>

<h5 id="objectives-covered-8">Objectives covered:</h5>

<ul>
<li>12. Download roles from an Ansible Galaxy and use them</li>
<li>13. Use Ansible Vault in playbooks to protect sensitive data</li>
</ul>

<h5 id="tasks-9">Tasks:</h5>

<ul>
<li>Using <code>ansible-galaxy</code> search for and download the &lsquo;mysql&rsquo; role by &lsquo;geerlingguy&rsquo;</li>
<li>Create a vault password file and add it to <code>ansible.cfg</code></li>
<li>Create the variable file <code>/home/ansible/exam-files/vars/mysql.yml</code> and add the following variables:

<ul>
<li><code>mysql_root_username: root</code></li>
<li><code>mysql_root_password: sqlrootpassword</code></li>
</ul></li>
<li>Encrypt the variable file with ansible vault</li>
<li>Modify the role so that it:

<ul>
<li>Changes the root credentials</li>
<li>Saves the root credentials to <code>~/.my.rc</code></li>
</ul></li>
<li>Create the playbook <code>/home/ansible/exam-files/playbooks/deploy-mysql.yml</code> that pushes the role to the mysql group</li>
</ul>

<h3 id="task-10">Task 10</h3>

<h5 id="objectives-covered-9">Objectives covered:</h5>

<ol>
<li>Use provided documentation to look up specific information about Ansible modules and commands</li>
</ol>

<h5 id="tasks-10">Tasks:</h5>

<ul>
<li>Create the file <code>/home/ansible/exam-files/ansible.cfg.template</code> with a dump of all possible env and config values. For example:</li>
</ul>

<pre><code class="language-none">ACTION_WARNINGS:
  default: true
  description: [By default Ansible will issue a warning when received from a task
      action (module or action plugin), These warnings can be silenced by adjusting
      this setting to False.]
  env:
  - {name: ANSIBLE_ACTION_WARNINGS}
  ini:
  - {key: action_warnings, section: defaults}
  name: Toggle action warnings
  type: boolean
  version_added: '2.5'
</code></pre>

<ul>
<li>Create the file <code>/home/ansible/exam-files/ansible.cfg.dump</code> with all the current variables/settings. For example:</li>
</ul>

<pre><code class="language-none">ACTION_WARNINGS(default) = True
AGNOSTIC_BECOME_PROMPT(default) = True
ALLOW_WORLD_READABLE_TMPFILES(default) = False
ANSIBLE_CONNECTION_PATH(default) = None
ANSIBLE_COW_PATH(default) = None
ANSIBLE_COW_SELECTION(default) = default
ANSIBLE_COW_WHITELIST(default) = ['bud-frogs', 'bunny', 'cheese', 'daemon', 'default', 'dragon', 'elephant-in-snake', '&gt;
ANSIBLE_FORCE_COLOR(default) = False
ANSIBLE_NOCOLOR(default) = False
ANSIBLE_NOCOWS(default) = False
</code></pre>

<ul>
<li>Create the file <code>/home/ansible/exam-files/ansible-modules.txt</code> with a list of all the Ansible modules available on this system. For example:</li>
</ul>

<pre><code class="language-none">a10_server                                                    Manage A10 Networks AX/SoftAX/Thunder/vThunder device...
a10_server_axapi3                                             Manage A10 Networks AX/SoftAX/Thunder/vThunder device...
a10_service_group                                             Manage A10 Networks AX/SoftAX/Thunder/vThunder device...
a10_virtual_server                                            Manage A10 Networks AX/SoftAX/Thunder/vThunder device...
aci_aaa_user                                                  Manage AAA users (aaa:User)
aci_aaa_user_certificate                                      Manage AAA user certificates (aaa:UserCert)
aci_access_port_block_to_access_port                          Manage port blocks of Fabric interface policy leaf pr...
aci_access_port_to_interface_policy_leaf_profile              Manage Fabric interface policy leaf profile interface...
aci_access_sub_port_block_to_access_port                      Manage sub port blocks of Fabric interface policy lea...
aci_aep                                                       Manage attachable Access Entity Profile (AEP) objects...
aci_aep_to_domain                                             Bind AEPs to Physical or Virtual Domains (infra:RsDom...
aci_ap                                                        Manage top level Application Profile (AP) objects (fv...
aci_bd                                                        Manage Bridge Domains (BD) objects (fv:BD)
</code></pre>

<ul>
<li>Install jinja2 html documentation</li>
</ul>

</div>


          <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f27%2frhce-v8-practiceexam%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=RHCE%20v8%20Practice%20Exam&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f27%2frhce-v8-practiceexam%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f27%2frhce-v8-practiceexam%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f27%2frhce-v8-practiceexam%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f27%2frhce-v8-practiceexam%2f&amp;title=RHCE%20v8%20Practice%20Exam" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=RHCE%20v8%20Practice%20Exam&amp;body=Check out this site https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f27%2frhce-v8-practiceexam%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://blog.victormendonca.com/2023/11/21/testing-new-hard-drives/" title="Testing New Hard Drives">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="https://blog.victormendonca.com/2023/12/21/playing-a-sound-on-headless-server-boot/" title="Playing a Sound on Headless Server Boot">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//victorbrca-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

        
          <div>
  <h2><a href="https://blog.victormendonca.com/2023/11/21/testing-new-hard-drives/">Testing New Hard Drives</a>
</h2>

  <div class="margin-10">
    <small>
  <i class="fa fa-calendar"></i>
  <time datetime="2023-11-21">21 Nov, 2023</time>
</small>

    
  <i class="fa fa-tags"></i>
  
  <a href="https://blog.victormendonca.com/tags/hardware" class="label label-primary">Hardware</a>
  
  <a href="https://blog.victormendonca.com/tags/storage" class="label label-primary">Storage</a>
  
  <a href="https://blog.victormendonca.com/tags/linux" class="label label-primary">Linux</a>
  


  </div>
</div>

          <div class="content">
  

<p>So you got a spanking new hard drive for your NAS and you are ready to install it&hellip; but wait! What if the drive is bad?</p>

<p><img src="https://i.imgur.com/XlwZRg7l.png" alt="" /></p>

<p>This is not something that most people would think of, but that shiny new drive could already have come with defects (a.k.a extra features) from the factory. Or maybe it was part of a fun game of &ldquo;throw the client&rsquo;s package&rdquo; that some delivery man like to play (as my preferred social media likes to show me). So before we install this new piece of hardware that has the potential to render all my data, accumulated from years of hoarding, useless, let&rsquo;s do some testing.</p>

<h2 id="s-m-a-r-t-testing">S.M.A.R.T Testing</h2>

<p>Let&rsquo;s start with a S.M.A.R.T (Self-Monitoring, Analysis, and Reporting Technology) test.</p>

<p><img src="https://i.imgur.com/4LQP5Iz.png" alt="smart" /></p>

<blockquote>
<p><a href="https://support-en.wd.com/app/answers/detailweb/a_id/39617/~/self-monitoring%2C-analysis-and-reporting-technology-%28s.m.a.r.t.%29">Wikipedia: Self-Monitoring, Analysis and Reporting Technology (S.M.A.R.T.)</a></p>

<p>SMART is an interface between the platform&rsquo;s BIOS and the storage device. When SMART is enabled in the BIOS (mostly default), the BIOS can process information from the storage device and determine whether to send a warning message about potential failure of the storage device. The purpose of SMART is to warn a user of impending drive failure while there is still time to take action, such as backing up the data or copying the data to a replacement device.</p>
</blockquote>

<p>First we need to identify if the drive is capable of S.M.A.R.T test. Most modern drives should be.</p>

<pre><code class="language-none">sudo smartctl -i /dev/sdX
</code></pre>

<p>You should get an output similar to the one below:</p>

<pre><code class="language-none">=== START OF INFORMATION SECTION ===
Device Model:     WDC WD60EFPX-68C5ZN0
Serial Number:    WD-WX12D12312345
LU WWN Device Id: 5 0014ee 26b395dd4
Firmware Version: 81.00A81
User Capacity:    6,001,175,126,016 bytes [6.00 TB]
Sector Sizes:     512 bytes logical, 4096 bytes physical
Rotation Rate:    5400 rpm
Form Factor:      3.5 inches
Device is:        Not in smartctl database 7.3/5528
ATA Version is:   ACS-3 T13/2161-D revision 5
SATA Version is:  SATA 3.1, 6.0 Gb/s (current: 6.0 Gb/s)
Local Time is:    Thu Nov  9 08:21:36 2023 EST
SMART support is: Available - device has SMART capability.
SMART support is: Enabled
</code></pre>

<p>I got the following error because I&rsquo;m using a USB-C adapter:</p>

<pre><code class="language-none">smartctl 7.4 2023-08-01 r5530 [x86_64-linux-6.5.8-arch1-1] (local build)
Copyright (C) 2002-23, Bruce Allen, Christian Franke, www.smartmontools.org

/dev/sda: Unknown USB bridge [0x14b0:0x0200 (0x100)]
Please specify device type with the -d option.

Use smartctl -h to get a usage summary
</code></pre>

<p>If that&rsquo;s the same for you, you can try using it with <code>-d sat</code>, and if your adapter is supported it should work.</p>

<pre><code class="language-none">sudo smartctl -d sat -i /dev/sdX
</code></pre>

<p>Once we confirmed that the drive supports S.M.A.R.T. testing we can start. We are interested in the following three  tests:</p>

<ul>
<li><strong>Short</strong> - The goal of the short test is the rapid identification of a defective hard drive. Therefore, a maximum run time for the short test is 2 min</li>
<li><strong>Long</strong> - The long test was designed as the final test in production and is the same as the short test with two differences. The first: there is no time restriction and in the Read/Verify segment the entire disk is checked and not just a section</li>
<li><strong>Conveyance Test</strong> - This test can be performed to determine damage during transport of the hard disk within just a few minutes</li>
</ul>

<p>We specify the test using the <code>-t</code> flag:</p>

<pre><code class="language-none">smartctl -t [short|long|conveyance] [dev]
</code></pre>

<p>The test runs in the background and we can check it&rsquo;s status by greping <code>Self-test execution status</code>.</p>

<p>On the example below we can see that the test is in progress and that is 80% complete:</p>

<pre><code class="language-none">$ sudo smartctl -a /dev/sda | grep -A 1 'Self-test execution status:'
Self-test execution status:      ( 242)	Self-test routine in progress...
					20% of test remaining.
</code></pre>

<p>We can use the same command with to check the test result. Just change the <code>-A</code> to &lsquo;2&rsquo; in <code>grep</code>:</p>

<pre><code class="language-none">$ sudo smartctl -a /dev/sda | grep -A 2 'Self-test execution status:'
Self-test execution status:      (   0)	The previous self-test routine completed
					without error or no self-test has ever
					been run.
</code></pre>

<p>Another option is to use the <code>-l selftest</code> flag:</p>

<pre><code class="language-none">$ sudo smartctl -l selftest /dev/sda
smartctl 7.4 2023-08-01 r5530 [x86_64-linux-6.5.8-arch1-1] (local build)
Copyright (C) 2002-23, Bruce Allen, Christian Franke, www.smartmontools.org

=== START OF READ SMART DATA SECTION ===
SMART Self-test log structure revision number 1
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error
# 1  Short offline       Completed without error       00%        20         -
</code></pre>

<p>Also check the following string after each test:</p>

<pre><code class="language-none">$ sudo smartctl -a /dev/sda | grep 'test result'
SMART overall-health self-assessment test result: PASSED
</code></pre>

<p>Now go ahead and run the short and conveyance tests (or all 3 if you have the time). Here&rsquo;s how long it took for me to run on a 6TB WD Red Plus (WD60EFPX) over USB-C (Nov 2023):</p>

<ul>
<li><em>conveyance</em> -1m13s</li>
<li><em>short</em> - 2m</li>
<li><em>long</em> - 11h20m</li>
</ul>

<p>If you have more than one hard drive to test, and you can plug them in at the same time, you can run the tests in parallel.</p>

<p>Once completed and you have confirmed they have passed, also check the thresholds at the end of the output. It will look similar to this:</p>

<pre><code class="language-none">Vendor Specific SMART Attributes with Thresholds:
ID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE
  1 Raw_Read_Error_Rate     0x002f   200   200   051    Pre-fail  Always       -       0
  3 Spin_Up_Time            0x0027   100   253   021    Pre-fail  Always       -       0
  4 Start_Stop_Count        0x0032   100   100   000    Old_age   Always       -       2
  5 Reallocated_Sector_Ct   0x0033   200   200   140    Pre-fail  Always       -       0
  7 Seek_Error_Rate         0x002e   200   200   000    Old_age   Always       -       0
  9 Power_On_Hours          0x0032   100   100   000    Old_age   Always       -       46
 10 Spin_Retry_Count        0x0032   100   253   000    Old_age   Always       -       0
 11 Calibration_Retry_Count 0x0032   100   253   000    Old_age   Always       -       0
 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       1
192 Power-Off_Retract_Count 0x0032   200   200   000    Old_age   Always       -       0
193 Load_Cycle_Count        0x0032   200   200   000    Old_age   Always       -       3
194 Temperature_Celsius     0x0022   107   104   000    Old_age   Always       -       43
196 Reallocated_Event_Count 0x0032   200   200   000    Old_age   Always       -       0
197 Current_Pending_Sector  0x0032   200   200   000    Old_age   Always       -       0
198 Offline_Uncorrectable   0x0030   100   253   000    Old_age   Offline      -       0
199 UDMA_CRC_Error_Count    0x0032   200   200   000    Old_age   Always       -       0
200 Multi_Zone_Error_Rate   0x0008   100   253   000    Old_age   Offline      -       0
</code></pre>

<p>You want to pay attention to:</p>

<ul>
<li><code>Offline_Uncorrectable</code> - Damaged sectors that don&rsquo;t respond to any read/write requests (bad sectors). These sectors are remapped to spare sectors.</li>
<li><code>Reallocated_Sector_Ct</code> - Count of damaged sectors that were remapped to spare sectors.</li>
<li><code>Current_Pending_Sector</code> - Indicates the number of damaged sectors that are yet to be remapped or reallocated. This number could indicate that spare sectors are not available, and data from bad sectors can no longer be remapped.</li>
</ul>

<h2 id="badblocks">Badblocks</h2>

<p><img src="https://i.imgur.com/yPrwUU8m.png" alt="Imgur" /></p>

<p>Before we continue, let&rsquo;s just make sure that you are indeed testing a new set of spinning rust (a.k.a. hard drive), and <strong>not an SSD or an NVMe</strong>. We don&rsquo;t want to run <code>badblocks</code> on the later 2.</p>

<h3 id="overview">Overview</h3>

<blockquote>
<p><a href="https://wiki.archlinux.org/title/badblocks">Arch Wiki: badblocks</a></p>

<p>S.M.A.R.T. (Self-Monitoring, Analysis, and Reporting Technology) is featured in almost every HDD still in use nowadays, and in some cases it can automatically retire defective HDD sectors. However, S.M.A.R.T. only passively waits for errors while badblocks can actively write simple patterns to every block of a device and then check them, searching for damaged areas (Just like memtest86* does with RAM).</p>
</blockquote>

<p>Now that we have an understanding of what <code>badblocks</code> does, let&rsquo;s take some time to digest it. We will be writing to all blocks on your new hard drive and then reading to confirm that the data was written correctly. As if that wouldn&rsquo;t already take long, <code>badblocks</code> will do it not only once, but four times (with four different patterns).</p>

<blockquote>
<p><a href="https://wiki.archlinux.org/title/badblocks#Testing_for_bad_sectors">Arch Wiki</a></p>

<p>As the pattern is written to every accessible block, the device effectively gets wiped. The default is an extensive test with four passes using four different patterns: <code>0xaa</code> (10101010), <code>0x55</code> (01010101), <code>0xff</code> (11111111) and <code>0x00</code> (00000000). For some devices this will take a couple of days to complete.</p>
</blockquote>

<p>As with <code>smartctl</code>, you can run multiple instances of <code>badblocks</code> in parallel if you have multiple disks. You can also shorten the time of the test by increasing the number of blocks that are tested at time (<code>-c</code>), or by specifying a single pattern to be written with the <code>-t</code> option, e.g.: <code>-t '0xaa'</code>, which will force it to do only one pass. If you specify multiple patterns, e.g.: <code>-t '0xaa' -t '0x55'</code>, you will be essentially running multiple passes.</p>

<p>Another option is to use the random pattern option with <code>-t random</code>. This will make <code>badblocks</code> use random patterns for the test, with only one pass (unless you specify <code>-p</code>).</p>

<p>Just keep in mind that different patterns (used by the default write-mode) work better because you can validate against stuck bits. But based on the amount of drives, available drive buses, and time that you have, you might not actually be able to run the full test. But that&rsquo;s a decision that only you can make.</p>

<p>I wanted to time my tests to help you making a decision, but as I ran them over a USB-C adapter my badblocks seem to have maxed out at around 41mb/s:</p>

<blockquote>
<pre><code>  Total DISK READ :       0.00 B/s | Total DISK WRITE :      41.74 M/s
  Actual DISK READ:       0.00 B/s | Actual DISK WRITE:      41.74 M/s
       TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO&gt;    COMMAND                                                          
  1516251 be/4 root        0.00 B/s   41.74 M/s  ?unavailable?  badblocks -wsvb 4096 -t 0x00 /dev/sda -o badblocks-output.log
</code></pre>
</blockquote>

<p>With that in mind, here are the timings from my latest test on a 6TB WD Red Plus (WD60EFPX) over USB-C (Nov 2023):</p>

<ul>
<li><em>Write mode</em> - 83h</li>
<li><em>Random write mode</em> - 81h</li>
<li><em>Write mode one pattern</em> - 80h</li>
</ul>

<p>And spoiler alert&hellip; we will be running the long test in <code>smartctl</code> once <code>badblocks</code> finishes. So also take that into account.</p>

<h3 id="running-the-test">Running the Test</h3>

<p>First, let&rsquo;s take a look at what your drive&rsquo;s recommended blocksize is:</p>

<pre><code class="language-none">sudo blockdev --getbsz /dev/sdX
</code></pre>

<p>Because this test will run for a while, start your preferred terminal multiplexer (e.g.: <code>screen</code>, <code>tmux</code>), change into root, and run <code>badblocks</code>:</p>

<pre><code class="language-none">time badblocks -wsvb {blocksize} /dev/sdX -o [output_file]
</code></pre>

<ul>
<li><code>time</code> a separate command to tell you the actual time <code>badblocks</code> ran for once complete.</li>
<li><code>-w</code> uses write-mode test, which is a <strong>destructive action</strong>.</li>
<li><code>-s</code> shows an estimate of the progress of the scan. This isn&rsquo;t 100% accurate, but it&rsquo;s better to see something than nothing at all.</li>
<li><code>-b {blocksize}</code> specify the block size. Be sure to replace <code>{blocksize}</code> with the number you found with the previous command mentioned (<code>blockdev --getbsz /dev/sdX</code>).</li>
<li><code>/dev/sdX</code> the drive you want to test. Replace with the actual drive. Be extra careful as you don&rsquo;t want to accidentally destroy data on the wrong disk.</li>
<li><code>-v</code> option is verbose mode</li>
<li><code>-o</code> option is output file. Without the <code>-o</code> <code>badblocks</code> will simply use the <code>STDOUT</code></li>
</ul>

<h2 id="s-m-a-r-t-again">S.M.A.R.T. Again</h2>

<p>Once the <code>badblocks</code> test is complete, run another long <code>smartctl</code> test and check to make sure that everything is still good.</p>

</div>


          <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f21%2ftesting-new-hard-drives%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=Testing%20New%20Hard%20Drives&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f21%2ftesting-new-hard-drives%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f21%2ftesting-new-hard-drives%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f21%2ftesting-new-hard-drives%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f21%2ftesting-new-hard-drives%2f&amp;title=Testing%20New%20Hard%20Drives" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=Testing%20New%20Hard%20Drives&amp;body=Check out this site https%3a%2f%2fblog.victormendonca.com%2f2023%2f11%2f21%2ftesting-new-hard-drives%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://blog.victormendonca.com/2023/07/20/how-to-migrate-local-users-and-grops/" title="How to Migrate Local Users and Grops">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="https://blog.victormendonca.com/2023/11/27/rhce-v8-practiceexam/" title="RHCE v8 Practice Exam">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//victorbrca-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

        
        
<nav>
  <ul class="pagination">
    


<li  class="disabled" >
  <a aria-label="First" href="https://blog.victormendonca.com//">
    <span aria-hidden="true">&laquo;&laquo;</span>
  </a>
</li>

<li  class="disabled" >
  <a aria-label="Previous" href="#">
    <span aria-hidden="true">&laquo;</span>
    </a>
</li>

<li  class="active" >
  <a href="https://blog.victormendonca.com//">
    1
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/2/">
    2
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/3/">
    3
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/4/">
    4
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/5/">
    5
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/6/">
    6
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/7/">
    7
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/8/">
    8
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/9/">
    9
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/10/">
    10
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/11/">
    11
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/12/">
    12
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/13/">
    13
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/14/">
    14
    </a>
</li>

<li >
  <a href="https://blog.victormendonca.com//page/15/">
    15
    </a>
</li>


<li >
  <a aria-label="Next" href="https://blog.victormendonca.com//page/2/">
    <span aria-hidden="true">&raquo;</span>
    </a>
</li>
<li >
  <a aria-label="Last" href="https://blog.victormendonca.com//page/15/">
    <span aria-hidden="true">&raquo;&raquo;</span>
  </a>
</li>


  </ul>
</nav>


      </div>
      
        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
          <div>
  

   
    <div class="section">
      <header><div class="title"></div></header>
      <div class="content">
        <img style="float: center; padding-right: 5px;" src="https://blog.victormendonca.com/img/avatar.jpg" hspace="20" width="240"></img>
        <br/>
        <div class="social-icons" style="display:inline-block; text-align: center; width:100%;">
        <a href="https://github.com/victorbrca" target="_blank"><i class="fa fa-github fa-2x" style="padding-right: 5px; padding-left: 5px" aria-hidden="true"></i></a>
        <a href="https://twitter.com/victorbrca" target="_blank"><i class="fa fa-twitter fa-2x" style="padding-right: 5px; padding-left: 1px" aria-hidden="true"></i></a>
        <a href="http://www.linkedin.com/in/victormendonca" target="_blank"><i class="fa fa-linkedin-square fa-2x" style="padding-right: 5px; padding-left: 1px" aria-hidden="true"></i></a>
        <a href="https://www.facebook.com/victormendonca" target="_blank"><i class="fa fa-facebook-official fa-2x" style="padding-right: 5px; padding-left: 1px" aria-hidden="true"></i></a>
        <div>
        <br/>
      </div>
    </div>

    
      
      
      <div class="section taxonomies">
        <header><div class="title"><b>tags</b></div></header>

        <div class="content1">
          <ul>
            <li><a href="https://blog.victormendonca.com/tags/linux">linux</a></li><li><a href="https://blog.victormendonca.com/tags/bash">bash</a></li><li><a href="https://blog.victormendonca.com/tags/hardware">hardware</a></li><li><a href="https://blog.victormendonca.com/tags/redhat">redhat</a></li><li><a href="https://blog.victormendonca.com/tags/rhcsa">rhcsa</a></li><li><a href="https://blog.victormendonca.com/tags/networking">networking</a></li><li><a href="https://blog.victormendonca.com/tags/ansible">ansible</a></li><li><a href="https://blog.victormendonca.com/tags/freenas">freenas</a></li><li><a href="https://blog.victormendonca.com/tags/kde">kde</a></li><li><a href="https://blog.victormendonca.com/tags/monitoring">monitoring</a></li><li><a href="https://blog.victormendonca.com/tags/shell">shell</a></li><li><a href="https://blog.victormendonca.com/tags/storage">storage</a></li><li><a href="https://blog.victormendonca.com/tags/vim">vim</a></li><li><a href="https://blog.victormendonca.com/tags/arch">arch</a></li><li><a href="https://blog.victormendonca.com/tags/docker">docker</a></li><li><a href="https://blog.victormendonca.com/tags/macos">macos</a></li><li><a href="https://blog.victormendonca.com/tags/pfsense">pfsense</a></li><li><a href="https://blog.victormendonca.com/tags/systemd">systemd</a></li><li><a href="https://blog.victormendonca.com/tags/virtualbox">virtualbox</a></li><li><a href="https://blog.victormendonca.com/tags/administration">administration</a></li>
          </ul>
        </div>
      </div>
      
    
      
      
    

    <br />

    <div class="section">
      <header><div class="title"><b>Latest Posts</b></div></header>
      <div class="content">
        <ul>
        
          <li>
          <a href="https://blog.victormendonca.com/2024/09/09/logrotate-simplifying-log-management/">Logrotate: Simplifying Log Management</a>
          </li>
        
          <li>
          <a href="https://blog.victormendonca.com/2024/02/14/getting-started-with-ansible-console/">Getting Started with Ansible Console</a>
          </li>
        
          <li>
          <a href="https://blog.victormendonca.com/2023/12/21/playing-a-sound-on-headless-server-boot/">Playing a Sound on Headless Server Boot</a>
          </li>
        
          <li>
          <a href="https://blog.victormendonca.com/2023/11/27/rhce-v8-practiceexam/">RHCE v8 Practice Exam</a>
          </li>
        
          <li>
          <a href="https://blog.victormendonca.com/2023/11/21/testing-new-hard-drives/">Testing New Hard Drives</a>
          </li>
        
          <li>
          <a href="https://blog.victormendonca.com/2023/07/20/how-to-migrate-local-users-and-grops/">How to Migrate Local Users and Grops</a>
          </li>
        
          <li>
          <a href="https://blog.victormendonca.com/2023/06/30/undestanting-yum-clean-all-and-stale-repos/">Understanding &#34;yum clean all&#34; and Stale Repos</a>
          </li>
        
        </ul>
      </div>
    </div>

    <br />

    
    <div class="section">
    
      
      <div class="content" align="center" >
        <a class="twitter-timeline" data-width="240" data-height="450" href="https://twitter.com/victorbrca">Tweets by victorbrca</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
      </div>
    </div>

</div>

        </div>
      
    </div>

  </div>

    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
  code with <i class='fa fa-linux'></i>

</small>
</div>


    
<div class="container copyright">
    <small>
  &copy; 2018 Copyright Victor Mendonça

  </small>
</div>



        </div>
    </div>
  </div>
</footer>

    

<script src="https://blog.victormendonca.com/js/jquery.min.js"></script>
<script src="https://blog.victormendonca.com/js/bootstrap.min.js"></script>


<script src="https://blog.victormendonca.com/js/highlight.pack.js"></script>
<script src="https://blog.victormendonca.com/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
var ENABLE_POPOVER =  false , 
EXPIRE_COOKIE =  5 , 
SHOW_MODAL_TIMEOUT =  10000 , 
MOUSE_LEAVE =  true , 
MODAL_SIZE = "", 
POST_URL = "https://zapier.com/hooks/catch/1227563/", 
SIGNUP_HEADER = "Join Our Newsletter",
HEADER_IMAGE = "//placehold.it/1000x600",
IMG_DESCRIPTION = "Placeholder image for this popover modal optin form",
SIGNUP_TEXT = "Signup today for free and be the first to get notified on new updates.",
INPUT_PLACEHOLDER = "Enter your email",
SUBMIT_BUTTON = "Subscribe",
SUCCESS_MESSAGE = "Thanks for your subscription!",
ERROR_MESSAGE = "Submitting form failed!",
OPTIN =  true ,
COOKIE_NAME = "mycookie1",
CONTENTLANGUAGE = ""; 
</script>





<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/config/TeX-AMS-MML_HTMLorMML.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    for(var all in MathJax.Hub.getAllJax()) {
        all.SourceElement().parentNode.className += ' has-jax';

    }
});
</script>






  </body>
</html>

